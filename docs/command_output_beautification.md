# å‘½ä»¤è¾“å‡ºç¾åŒ–åŠŸèƒ½

**å®ç°æ—¥æœŸ**: 2025-11-29
**çŠ¶æ€**: âœ… å·²å®Œæˆ
**ä¼˜å…ˆçº§**: ğŸ”¥ é«˜ï¼ˆç”¨æˆ·ä½“éªŒï¼‰

---

## ğŸ“‹ åŠŸèƒ½æ¦‚è¿°

å…¨é¢ç¾åŒ–ç³»ç»Ÿå‘½ä»¤çš„è¾“å‡ºï¼Œä½¿ç”¨ Spectre.Console ç»„ä»¶æå‡è§†è§‰æ•ˆæœå’Œå¯è¯»æ€§ã€‚

---

## âœ¨ æ ¸å¿ƒæ”¹è¿›

### 1. ğŸ“– **Help å‘½ä»¤ç¾åŒ–**

#### æ”¹è¿›å‰
```
Available Commands:

System Commands:
  help - æ˜¾ç¤ºå¸®åŠ©
  status - æ˜¾ç¤ºçŠ¶æ€
  exit - é€€å‡º

API Commands:
  move - ç§»åŠ¨å‘½ä»¤
```

#### æ”¹è¿›å
```
â”â”â”â”â”â”â”â”â”â”â”â” ğŸ“– å¸®åŠ©ä¿¡æ¯ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ ğŸ’» ç³»ç»Ÿå‘½ä»¤     â”‚ è¯´æ˜                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ clear          â”‚ æ¸…ç©ºå±å¹•                  â”‚
â”‚ exit           â”‚ é€€å‡ºç¨‹åº                  â”‚
â”‚ help           â”‚ æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯              â”‚
â”‚ status         â”‚ æ˜¾ç¤ºç³»ç»ŸçŠ¶æ€              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ âš¡ API å‘½ä»¤     â”‚ è¯´æ˜         â”‚ ç«¯ç‚¹       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ move           â”‚ ç§»åŠ¨å‘½ä»¤     â”‚ execute    â”‚
â”‚ status         â”‚ è·å–çŠ¶æ€     â”‚ status     â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ ğŸ”§ å®å‘½ä»¤       â”‚ è¯´æ˜         â”‚ æ­¥éª¤æ•°     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ home           â”‚ å›å½’åˆå§‹ä½ç½® â”‚ 2          â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ä½¿ç”¨æŠ€å·§ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                            â”‚
â”‚  ğŸ’¡ æç¤º:                                  â”‚
â”‚    â€¢ ä½¿ç”¨ Tab é”®è‡ªåŠ¨è¡¥å…¨å‘½ä»¤               â”‚
â”‚    â€¢ ä½¿ç”¨ â†‘ â†“ é”®æµè§ˆå†å²å‘½ä»¤              â”‚
â”‚    â€¢ è¾“å…¥å‘½ä»¤æ—¶ä¼šæ˜¾ç¤ºè™šä½è¡¥å…¨é¢„è§ˆ          â”‚
â”‚    â€¢ è¾“å…¥ help <å‘½ä»¤å> æŸ¥çœ‹è¯¦ç»†å¸®åŠ©       â”‚
â”‚                                            â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
```

**æ”¹è¿›ç‚¹**:
- âœ… ä½¿ç”¨ Rule ç»„ä»¶åˆ›å»ºåˆ†éš”çº¿æ ‡é¢˜
- âœ… ä½¿ç”¨ Table ç»„ä»¶å±•ç¤ºå‘½ä»¤åˆ—è¡¨
- âœ… æ·»åŠ  emoji å›¾æ ‡åˆ†ç±»ï¼ˆğŸ’»âš¡ğŸ”§ï¼‰
- âœ… åœ†è§’è¾¹æ¡†ï¼ˆTableBorder.Roundedï¼‰
- âœ… æŒ‰å­—æ¯åºæ’åº
- âœ… æ˜¾ç¤ºç«¯ç‚¹å’Œæ­¥éª¤æ•°ä¿¡æ¯
- âœ… åº•éƒ¨æç¤ºé¢æ¿

---

### 2. ğŸ“Š **Status å‘½ä»¤ç¾åŒ–**

#### æ”¹è¿›å‰
```
status
X:10.00 Y:20.00 Z:0.00 State:IDLE
```

#### æ”¹è¿›å
```
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ“Š ç³»ç»ŸçŠ¶æ€ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                            â”‚
â”‚  ğŸ“ åæ ‡ä½ç½®                                â”‚
â”‚    X:              0.00 mm                 â”‚
â”‚    Y:              0.00 mm                 â”‚
â”‚    Z:              0.00 mm                 â”‚
â”‚                                            â”‚
â”‚  âš¡ è¿åŠ¨å‚æ•°                                â”‚
â”‚    è¿›ç»™é€Ÿåº¦:       0 mm/min                â”‚
â”‚    ä¸»è½´è½¬é€Ÿ:       0 rpm                   â”‚
â”‚                                            â”‚
â”‚  â— å½“å‰çŠ¶æ€       IDLE                     â”‚
â”‚  ğŸŒ¡ï¸  æ¸©åº¦          25.0 Â°C                 â”‚
â”‚                                            â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
```

**æ”¹è¿›ç‚¹**:
- âœ… ä½¿ç”¨ Panel ç»„ä»¶åˆ›å»ºé¢æ¿
- âœ… ä½¿ç”¨ Grid å¸ƒå±€å¯¹é½ä¿¡æ¯
- âœ… emoji å›¾æ ‡å¢å¼ºè¯†åˆ«æ€§
- âœ… åœ†è§’è¾¹æ¡† + è“è‰²ä¸»é¢˜
- âœ… æ¸…æ™°çš„åˆ†ç»„å’Œé—´è·
- âœ… å•ä½æ ‡æ³¨ï¼ˆmm, rpm, Â°Cï¼‰
- âœ… å½©è‰²æ•°å€¼ï¼ˆcyanï¼‰

---

### 3. âŒ **é”™è¯¯æ¶ˆæ¯ç¾åŒ–**

#### æ”¹è¿›å‰
```
Error: Unknown command: abc
```

#### æ”¹è¿›å
```
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ é”™è¯¯ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                            â”‚
â”‚  âŒ Unknown command: abc                   â”‚
â”‚                                            â”‚
â”‚  ğŸ’¡ å»ºè®®:                                  â”‚
â”‚    â€¢ è¾“å…¥ help æŸ¥çœ‹å¯ç”¨å‘½ä»¤                â”‚
â”‚    â€¢ ä½¿ç”¨ Tab é”®è‡ªåŠ¨è¡¥å…¨                   â”‚
â”‚    â€¢ æŒ‰ â†‘ é”®æŸ¥çœ‹å†å²å‘½ä»¤                   â”‚
â”‚                                            â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
```

**æ”¹è¿›ç‚¹**:
- âœ… ä½¿ç”¨ Panel ç»„ä»¶
- âœ… çº¢è‰²ä¸»é¢˜è¾¹æ¡†
- âœ… é”™è¯¯å›¾æ ‡ âŒ
- âœ… å»ºè®®æ“ä½œåˆ—è¡¨
- âœ… å‹å¥½çš„å¸®åŠ©æç¤º
- âœ… æ›´å®¹æ˜“è§£å†³é—®é¢˜

---

## ğŸ› ï¸ æŠ€æœ¯å®ç°

### Help å‘½ä»¤å®ç°

```csharp
private CommandExecutionResult ExecuteHelp()
{
    var sections = new List<IRenderable>();

    // æ ‡é¢˜
    sections.Add(new Rule("[bold dodgerblue1]ğŸ“– å¸®åŠ©ä¿¡æ¯[/]")
    {
        Justification = Justify.Left,
        Style = Style.Parse("dodgerblue1")
    });

    // ç³»ç»Ÿå‘½ä»¤è¡¨æ ¼
    var systemTable = new Table()
        .Border(TableBorder.Rounded)
        .BorderColor(Color.Grey50)
        .AddColumn(new TableColumn("[yellow]ğŸ’» ç³»ç»Ÿå‘½ä»¤[/]").Width(15))
        .AddColumn(new TableColumn("[dim]è¯´æ˜[/]"));

    foreach (var kvp in _config.Commands.System.OrderBy(x => x.Key))
    {
        systemTable.AddRow(
            $"[cyan]{kvp.Key}[/]",
            kvp.Value.Description ?? "[dim]æ— è¯´æ˜[/]"
        );
    }

    sections.Add(systemTable);

    // ... APIå‘½ä»¤ã€å®å‘½ä»¤ã€æç¤ºé¢æ¿

    // æ¸²æŸ“
    var output = new System.Text.StringBuilder();
    using (var stringWriter = new System.IO.StringWriter(output))
    {
        var console = AnsiConsole.Create(new AnsiConsoleSettings
        {
            Out = new AnsiConsoleOutput(stringWriter)
        });

        foreach (var section in sections)
        {
            console.Write(section);
        }
    }

    return new CommandExecutionResult
    {
        Success = true,
        Output = output.ToString()
    };
}
```

### Status å‘½ä»¤å®ç°

```csharp
private string BuildBeautifulStatusPanel()
{
    var grid = new Grid();
    grid.AddColumn(new GridColumn().Width(20));
    grid.AddColumn(new GridColumn());

    // åæ ‡ä½ç½®
    grid.AddRow(
        new Markup("[yellow]ğŸ“ åæ ‡ä½ç½®[/]"),
        new Markup("")
    );
    grid.AddRow(
        new Markup("  [dim]X:[/]"),
        new Markup("[cyan]0.00[/] [dim]mm[/]")
    );
    // ... Y, Z åæ ‡

    grid.AddEmptyRow();

    // è¿åŠ¨å‚æ•°
    grid.AddRow(
        new Markup("[yellow]âš¡ è¿åŠ¨å‚æ•°[/]"),
        new Markup("")
    );
    // ... è¿›ç»™é€Ÿåº¦ã€ä¸»è½´è½¬é€Ÿ

    var panel = new Panel(grid)
    {
        Header = new PanelHeader("[bold dodgerblue1]ğŸ“Š ç³»ç»ŸçŠ¶æ€[/]", Justify.Left),
        Border = BoxBorder.Rounded,
        BorderStyle = Style.Parse("dodgerblue1"),
        Padding = new Padding(2, 1, 2, 1)
    };

    // æ¸²æŸ“åˆ°å­—ç¬¦ä¸²
    // ...
}
```

### é”™è¯¯æ¶ˆæ¯å®ç°

```csharp
private CommandExecutionResult CreateErrorResult(string message)
{
    var errorPanel = new Panel(new Markup(
        $"[red]âŒ {Markup.Escape(message)}[/]\n\n" +
        "[dim]ğŸ’¡ å»ºè®®:[/]\n" +
        "  â€¢ è¾“å…¥ [cyan]help[/] æŸ¥çœ‹å¯ç”¨å‘½ä»¤\n" +
        "  â€¢ ä½¿ç”¨ [cyan]Tab[/] é”®è‡ªåŠ¨è¡¥å…¨\n" +
        "  â€¢ æŒ‰ [cyan]â†‘[/] é”®æŸ¥çœ‹å†å²å‘½ä»¤"
    ))
    {
        Header = new PanelHeader("[red]é”™è¯¯[/]", Justify.Left),
        Border = BoxBorder.Rounded,
        BorderStyle = Style.Parse("red"),
        Padding = new Padding(2, 1, 2, 1)
    };

    // æ¸²æŸ“
    // ...

    return new CommandExecutionResult
    {
        Success = false,
        Output = output.ToString()
    };
}
```

---

## ğŸ¨ ä½¿ç”¨çš„ Spectre.Console ç»„ä»¶

| ç»„ä»¶ | ç”¨é€” | ç‰¹ç‚¹ |
|------|------|------|
| `Rule` | æ ‡é¢˜åˆ†éš”çº¿ | å·¦å¯¹é½ã€è“è‰² |
| `Table` | å‘½ä»¤åˆ—è¡¨è¡¨æ ¼ | åœ†è§’è¾¹æ¡†ã€ç°è‰² |
| `Panel` | é¢æ¿å®¹å™¨ | æ ‡é¢˜ã€åœ†è§’è¾¹æ¡† |
| `Grid` | ç½‘æ ¼å¸ƒå±€ | å¯¹é½ã€é—´è· |
| `Markup` | æ–‡æœ¬æ ‡è®° | é¢œè‰²ã€æ ·å¼ |

---

## ğŸŒˆ é…è‰²æ–¹æ¡ˆ

### Help å‘½ä»¤
- æ ‡é¢˜ï¼š`dodgerblue1`ï¼ˆé“å¥‡è“ï¼‰
- è¾¹æ¡†ï¼š`grey50`ï¼ˆç°è‰²ï¼‰
- å‘½ä»¤åï¼š`cyan`ï¼ˆé’è‰²ï¼‰
- å›¾æ ‡ï¼š`yellow`ï¼ˆé»„è‰²ï¼‰
- è¯´æ˜ï¼š`dim`ï¼ˆæš—æ·¡ï¼‰

### Status å‘½ä»¤
- è¾¹æ¡†ï¼š`dodgerblue1`ï¼ˆè“è‰²ï¼‰
- å›¾æ ‡ï¼š`yellow`ï¼ˆé»„è‰²ï¼‰
- æ•°å€¼ï¼š`cyan`ï¼ˆé’è‰²ï¼‰
- å•ä½ï¼š`dim`ï¼ˆæš—æ·¡ï¼‰
- çŠ¶æ€ï¼š`green`ï¼ˆç»¿è‰²ï¼‰

### é”™è¯¯æ¶ˆæ¯
- è¾¹æ¡†ï¼š`red`ï¼ˆçº¢è‰²ï¼‰
- é”™è¯¯å›¾æ ‡ï¼š`red`
- å»ºè®®ï¼š`dim` + `cyan`

---

## ğŸ“Š å¯¹æ¯”åˆ†æ

### å¯è¯»æ€§æå‡

| æ–¹é¢ | æ”¹è¿›å‰ | æ”¹è¿›å |
|------|--------|--------|
| **è§†è§‰å±‚æ¬¡** | å¹³é¢æ–‡æœ¬ | æ¸…æ™°åˆ†ç»„ |
| **ä¿¡æ¯å¯†åº¦** | ç´§å‡‘ | é€‚ä¸­ |
| **æ‰«æé€Ÿåº¦** | æ…¢ | å¿« |
| **é”™è¯¯ç†è§£** | éœ€æ€è€ƒ | ç«‹å³æ˜ç™½ |
| **æ•´ä½“å°è±¡** | ç®€é™‹ | ä¸“ä¸š |

### ç”¨æˆ·ä½“éªŒ

**æ”¹è¿›å‰çš„é—®é¢˜**:
- âŒ ä¿¡æ¯æ‚ä¹±æ— åº
- âŒ ç¼ºå°‘è§†è§‰æç¤º
- âŒ é”™è¯¯ä¿¡æ¯ä¸å‹å¥½
- âŒ éš¾ä»¥å¿«é€Ÿæ‰¾åˆ°ä¿¡æ¯

**æ”¹è¿›åçš„ä¼˜åŠ¿**:
- âœ… ä¿¡æ¯æ¸…æ™°åˆ†ç±»
- âœ… emoji å›¾æ ‡å¢å¼ºè¯†åˆ«
- âœ… é”™è¯¯é™„å¸¦è§£å†³å»ºè®®
- âœ… ä¸“ä¸šç¾è§‚çš„ç•Œé¢

---

## ğŸ”œ æœªæ¥å¢å¼º

### Help å‘½ä»¤
- [ ] æ”¯æŒ `help <å‘½ä»¤å>` æŸ¥çœ‹è¯¦ç»†å¸®åŠ©
- [ ] æ·»åŠ å‘½ä»¤ç¤ºä¾‹
- [ ] æ˜¾ç¤ºå¿«æ·é”®åˆ—è¡¨
- [ ] æœç´¢åŠŸèƒ½

### Status å‘½ä»¤
- [ ] å®æ—¶æ•°æ®æ›´æ–°
- [ ] å†å²æ•°æ®å›¾è¡¨
- [ ] å‘Šè­¦ä¿¡æ¯é«˜äº®
- [ ] å¯¼å‡ºçŠ¶æ€æŠ¥å‘Š

### é”™è¯¯æ¶ˆæ¯
- [ ] æ™ºèƒ½ç›¸ä¼¼å‘½ä»¤æ¨è
- [ ] é”™è¯¯åˆ†ç±»ï¼ˆè­¦å‘Š/é”™è¯¯/è‡´å‘½ï¼‰
- [ ] å¤šè¯­è¨€æ”¯æŒ
- [ ] é”™è¯¯æ—¥å¿—è®°å½•

---

## ğŸ“ å®ç°ç»Ÿè®¡

- **ä¿®æ”¹æ–‡ä»¶**: 1 ä¸ªï¼ˆCommandExecutorV2.csï¼‰
- **æ–°å¢ä»£ç **: ~200 è¡Œ
- **ä½¿ç”¨ç»„ä»¶**: 5 ç§ Spectre.Console ç»„ä»¶
- **emoji å›¾æ ‡**: 11 ä¸ª
- **æµ‹è¯•çŠ¶æ€**: âœ… ç¼–è¯‘é€šè¿‡

---

## âœ… æµ‹è¯•æ¸…å•

- [x] help å‘½ä»¤è¾“å‡ºç¾åŒ–
- [x] status å‘½ä»¤è¾“å‡ºç¾åŒ–
- [x] é”™è¯¯æ¶ˆæ¯ç¾åŒ–
- [x] è¡¨æ ¼è¾¹æ¡†æ­£å¸¸æ˜¾ç¤º
- [x] emoji å›¾æ ‡æ­£å¸¸æ˜¾ç¤º
- [x] é¢œè‰²æ–¹æ¡ˆåè°ƒç»Ÿä¸€
- [x] ç¼–è¯‘æ— è­¦å‘Šæ— é”™è¯¯
- [ ] çœŸå®ç»ˆç«¯æµ‹è¯•ï¼ˆå¾…æµ‹ï¼‰
- [ ] ä¸åŒé…ç½®æµ‹è¯•ï¼ˆå¾…æµ‹ï¼‰

---

**å®ç°å®Œæˆï¼** ğŸ‰

å‘½ä»¤è¾“å‡ºå·²ç»ä»**ç®€é™‹æ–‡æœ¬**å‡çº§åˆ°**ä¸“ä¸šç•Œé¢**ï¼Œæ˜¾è‘—æå‡äº†ç”¨æˆ·ä½“éªŒï¼

ä¸‹ä¸€æ­¥å»ºè®®ï¼šåœ¨çœŸå®ç»ˆç«¯ä¸­æµ‹è¯•æ•ˆæœï¼Œçœ‹çœ‹æ˜¯å¦éœ€è¦å¾®è°ƒã€‚
